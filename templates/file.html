{% extends 'init.html' %}<!doctype html><html lang="en"><head>    <meta charset="utf-8"/>    {% block head_js %}        <link rel="stylesheet" href="/static/trumbowyg/design/css/trumbowyg.css">    {% endblock %}</head><body>{% block page %}<div class="content"><div class="container-fluid">    {% if 'file_edit' in request.path %}        <div class="row">                                        <div class="col-md-12">                                            <div class="form-group">                                                <label>文档名称</label>                                                <input type="text" id="file_name" class="form-control" placeholder="File Name"                                                       value="{{ file_name }}">                                            </div>                                        </div>                                    </div>        <div class="row">                                        <div class="col-md-12">                                            <div class="form-group">                                                <label>文档详情</label>                                                <input type="text" id="file_remark" class="form-control" placeholder="File Remark"                                                       value="{{ file_remark }}">                                            </div>                                        </div>                                    </div>            <div class="row">            <div class="col-lg-12">                <div class="card">                            <div id="file-edit" class="tab-pane active">                                    <div id="main" role="main">                                            <div id="simple-editor" data-model-name="file_content">                                                {{ file_content|safe }}                                            </div>                                    </div>                    <nobr><p> 文档修改        <button type="button" id="file_motify" class="btn btn-primary" style="margin-right: 10px; margin-bottom:100px;float: right">提交修改</button></p> </nobr>         </div>                </div>            </div>        </div>        {% elif '/file_create' in request.path  %}        <div class="row">                                        <div class="col-md-12">                                            <div class="form-group">                                                <label>文档名称</label>                                                <input type="text" id="file_name" class="form-control" placeholder="File Name"                                                       >                                            </div>                                        </div>                                    </div>        <div class="row">                                        <div class="col-md-12">                                            <div class="form-group">                                                <label>文档详情</label>                                                <input type="text" id="file_remark" class="form-control" placeholder="File Remark"                                                       value="">                                            </div>                                        </div>                                    </div>            <div class="row">            <div class="col-lg-12">                <div class="card">                            <div id="file-edit" class="tab-pane active">                                    <div id="main" role="main">                                            <div id="simple-editor" data-model-name="file_content">                                                内容编写.....                                            </div>                                    </div>                    <nobr><p> 文档创建        <button type="button" id="file_motify" class="btn btn-primary" style="margin-right: 10px; margin-bottom:100px;float: right">提交创建</button></p> </nobr>         </div>                </div>            </div>        </div>        {% elif '/file_view/' in request.path %}                <div class="row">                    <div class="col-lg-12">                        <div class="card">                            <div class="content content-full-width" style="margin-left: 10px;margin-right: 10px">                            {{ file_content|safe }}                                </div>    </div>                        </div>    </div>    {% endif %}</div></div>{% endblock %}</body>{% block end_js %}    <!--   Core JS Files and PerfectScrollbar library inside jquery.ui   -->    <script src="/static/js/jquery.min.js" type="text/javascript"></script>    <script src="/static/js/jquery-ui.min.js" type="text/javascript"></script>    <script src="/static/js/bootstrap.min.js" type="text/javascript"></script>        <script src="/static/trumbowyg/trumbowyg.js"></script>    <script src="/static/trumbowyg/langs/fr.js"></script>    <script src="/static/trumbowyg/plugins/upload/trumbowyg.upload.js"></script>    <script src="/static/trumbowyg/plugins/base64/trumbowyg.base64.js"></script>    <!--  Forms Validations Plugin -->    <script src="/static/js/jquery.validate.min.js"></script>    <!--  Plugin for Date Time Picker and Full Calendar Plugin-->    <script src="/static/js/moment.min.js"></script>    <!--  Date Time Picker Plugin is included in this js file -->    <script src="/static/js/bootstrap-datetimepicker.js"></script>    <!--  Select Picker Plugin -->    <script src="/static/js/bootstrap-selectpicker.js"></script>    <!--  Checkbox, Radio, Switch and Tags Input Plugins -->    <script src="/static/js/bootstrap-checkbox-radio-switch-tags.js"></script>    <!--  Notifications Plugin    -->    <script src="/static/js/bootstrap-notify.js"></script>    <!-- Sweet Alert 2 plugin -->    <script src="/static/js/sweetalert2.js"></script>    <!-- Vector Map plugin -->    <script src="/static/js/jquery-jvectormap.js"></script>    <!-- Wizard Plugin    -->    <script src="/static/js/jquery.bootstrap.wizard.min.js"></script>    <!--  Bootstrap Table Plugin    -->    <script src="/static/js/bootstrap-table.js"></script>    <!--  Plugin for DataTables.net  -->    <script src="/static/js/jquery.datatables.js"></script>    <!--  Full Calendar Plugin    -->    <script src="/static/js/fullcalendar.min.js"></script>    <!-- Light Bootstrap Dashboard Core javascript and methods -->    <script src="/static/js/light-bootstrap-dashboard.js"></script>    <!--   Sharrre Library    -->    <script src="/static/js/jquery.sharrre.js"></script>        <script>        /** Default editor configuration **/        $('#simple-editor').trumbowyg();        /********************************************************         * Customized button pane + buttons groups + dropdowns         * Use upload plugin         *******************************************************/        /*         * Add your own groups of button         */        $.trumbowyg.btnsGrps.test = ['bold', 'link'];        /* Add new words for customs btnsDef just below */        $.extend(true, $.trumbowyg.langs, {            fr: {                align: 'Alignement',                image: 'Image'            }        });        $('#customized-buttonpane').trumbowyg({            lang: 'fr',            closable: true,            fixedBtnPane: true,            btnsDef: {                // Customizables dropdowns                align: {                    dropdown: ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],                    ico: 'justifyLeft'                },                image: {                    dropdown: ['insertImage', 'upload', 'base64'],                    ico: 'insertImage'                }            },            btns: ['viewHTML',                '|', 'formatting',                '|', 'btnGrp-test',                '|', 'align',                '|', 'btnGrp-lists',                '|', 'image']        });        /** Simple customization with current options **/        $('#form-content').trumbowyg({            lang: 'fr',            closable: true,            mobile: true,            fixedBtnPane: true,            fixedFullWidth: true,            semantic: true,            resetCss: true,            autoAjustHeight: true,            autogrow: true        });        $('.editor').on('dblclick', function (e) {            $(this).trumbowyg({                lang: 'fr',                closable: true,                fixedBtnPane: true            });        });    </script>    <script type="text/javascript">        $("#file_motify").click(function() {            var content = $("#simple-editor").html();                    $.ajax({                        url: "{{ request.path }}",                        type: 'post',                        dataType: 'text',                        data: {                            request_type: 'file_modify',                            file_name: document.getElementById('file_name').value,                            file_remark: document.getElementById('file_remark').value,                            file_content: content                        },                        success:function () {                            location.href = '/txt_list/'                        }                    });                })    </script>{% endblock %}</html>